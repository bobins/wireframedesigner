<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LMS Wireframe Builder</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Top Toolbar -->
        <header class="toolbar">
            <div class="toolbar-left">
                <h1>LMS Wireframe Builder</h1>
            </div>
            <div class="toolbar-right">
                <button class="btn btn--outline btn--sm" id="help-btn">‚ùì Starter Guide</button>
                <button class="btn btn--secondary btn--sm" id="save-btn">üíæ Save</button>
                <button class="btn btn--outline btn--sm" id="clear-btn">üóëÔ∏è Clear</button>
                <button class="btn btn--primary btn--sm" id="export-btn">üìÑ Export PDF</button>
            </div>
        </header>

        <div class="main-content">
            <!-- Left Sidebar - Component Library -->
            <aside class="sidebar">
                <!-- Custom Elements Section -->
                <div class="sidebar-section">
                    <div class="sidebar-header" data-category="custom-elements">
                        <span class="sidebar-toggle">‚ñº</span>
                        <h3>Custom Elements</h3>
                    </div>
                    <div class="sidebar-content" id="custom-elements-content">
                        <div class="custom-controls">
                            <button class="btn btn--secondary btn--sm btn--full-width" id="add-section-btn">+ Add Section</button>
                            <button class="btn btn--secondary btn--sm btn--full-width" id="add-subsection-btn">+ Add Subsection</button>
                            <button class="btn btn--outline btn--sm btn--full-width" id="add-resource-btn">+ Add Resource</button>
                            <button class="btn btn--outline btn--sm btn--full-width" id="add-activity-btn">+ Add Activity</button>
                        </div>
                    </div>
                </div>

                <!-- Section Templates -->
                <div class="sidebar-section">
                    <div class="sidebar-header" data-category="section-templates">
                        <span class="sidebar-toggle">‚ñº</span>
                        <h3>Section Templates</h3>
                    </div>
                    <div class="sidebar-content" id="section-templates-content">
                        <div class="component-list" id="section-templates-list">
                            <!-- Section templates will be populated here -->
                        </div>
                    </div>
                </div>
                
                <!-- Resources Section -->
                <div class="sidebar-section">
                    <div class="sidebar-header" data-category="resources">
                        <span class="sidebar-toggle">‚ñº</span>
                        <h3>Resources</h3>
                    </div>
                    <div class="sidebar-content" id="resources-content">
                        <div class="component-list" id="resources-list">
                            <!-- Resources will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Activities Section -->
                <div class="sidebar-section">
                    <div class="sidebar-header" data-category="activities">
                        <span class="sidebar-toggle">‚ñº</span>
                        <h3>Activities</h3>
                    </div>
                    <div class="sidebar-content" id="activities-content">
                        <div class="component-list" id="activities-list">
                            <!-- Activities will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Design Elements Section -->
                <div class="sidebar-section">
                    <div class="sidebar-header" data-category="design-elements">
                        <span class="sidebar-toggle">‚ñº</span>
                        <h3>Design Elements</h3>
                    </div>
                    <div class="sidebar-content" id="design-elements-content">
                        <div class="component-list" id="design-elements-list">
                            <!-- Design elements will be populated here -->
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Canvas -->
            <main class="canvas-container">
                <div class="canvas" id="canvas">
                    <div class="canvas-placeholder" id="canvas-placeholder">
                        <div class="placeholder-content">
                            <div class="placeholder-icon">üé®</div>
                            <h3>Start Building Your Course Wireframe</h3>
                            <p>Drag sections from the sidebar to begin. Add subsections to sections, then add resources, activities, and design elements to sections and subsections.</p>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Properties Panel -->
            <aside class="properties-panel" id="properties-panel">
                <h3>Properties</h3>
                <div class="properties-content" id="properties-content">
                    <p class="properties-empty">Select an item to edit its properties.</p>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <p>Designed and developed by Robert Sydenham for Murdoch University using Perplexity Labs (2025).</p>
        </footer>
    </div>

    <!-- Context Menu -->
    <div class="context-menu hidden" id="context-menu">
        <div class="context-menu-item" id="move-item">‚ÜïÔ∏è Move</div>
        <div class="context-menu-item" id="delete-item">üóëÔ∏è Delete</div>
    </div>

    <!-- Starter Guide Modal -->
    <div class="modal" id="starter-guide-modal">
        <div class="modal-content starter-guide-content">
            <div class="modal-header">
                <h3>üöÄ Starter Guide</h3>
                <button class="modal-close" id="starter-guide-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="guide-section">
                    <h4>Welcome to LMS Wireframe Builder!</h4>
                    <p>This tool helps you design course structures with a hierarchical approach.</p>
                </div>
                
                <div class="guide-section">
                    <h4>üèóÔ∏è Getting Started</h4>
                    <ul>
                        <li><strong>Drag & Drop:</strong> Drag items from the sidebar to the canvas</li>
                        <li><strong>Templates:</strong> Use section templates for common course structures</li>
                        <li><strong>Hierarchy:</strong> Sections ‚Üí Subsections ‚Üí Resources/Activities/Design Elements</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üéØ Key Features</h4>
                    <ul>
                        <li><strong>Move Button (‚ÜïÔ∏è):</strong> Click to precisely position content anywhere</li>
                        <li><strong>Bidirectional Drag:</strong> Drag content up or down smoothly</li>
                        <li><strong>Properties Panel:</strong> Click any item to edit its properties</li>
                        <li><strong>PDF Export:</strong> Generate a structured document of your wireframe</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üìã Content Types</h4>
                    <ul>
                        <li><strong>Sections:</strong> Main course areas (Home, Assessments, Topics)</li>
                        <li><strong>Subsections:</strong> Topic divisions within sections</li>
                        <li><strong>Resources:</strong> Content for students (readings, videos, links)</li>
                        <li><strong>Activities:</strong> Interactive elements (forums, quizzes, assignments)</li>
                        <li><strong>Design Elements:</strong> Pedagogical markers (Pre-Class, In-Class, etc.)</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üí° Tips</h4>
                    <ul>
                        <li>Start with section templates for quick setup</li>
                        <li>Use the move button for precise positioning</li>
                        <li>Fill in properties for better documentation</li>
                        <li>Save regularly to preserve your work</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" id="starter-guide-ok">Got it!</button>
            </div>
        </div>
    </div>

    <!-- Move Menu Modal -->
    <div class="modal hidden" id="move-modal">
        <div class="modal-content move-modal-content">
            <div class="modal-header">
                <h3>Move Content</h3>
                <button class="modal-close" id="move-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="move-instructions">Select where to move "<span id="move-item-name"></span>":</p>
                <div class="move-list" id="move-list">
                    <!-- Move options will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancel-move">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal hidden" id="delete-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Delete</h3>
                <button class="modal-close" id="delete-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete "<span id="delete-item-name"></span>"?</p>
                <p style="color: var(--color-error); font-size: var(--font-size-sm);">This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancel-delete">Cancel</button>
                <button class="btn btn--primary" id="confirm-delete" style="background-color: var(--color-error);">Delete</button>
            </div>
        </div>
    </div>

    <!-- Drop Zone Indicator -->
    <div class="drop-zone-indicator hidden" id="drop-zone-indicator">
        <div class="drop-zone-content">
            <span class="drop-zone-icon">üìç</span>
            <span class="drop-zone-text">Drop here</span>
        </div>
    </div>

    <!-- Drag Preview -->
    <div class="drag-preview hidden" id="drag-preview"></div>

    <script src="app.js"></script>
</body>
</html>
