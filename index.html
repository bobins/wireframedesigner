<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LMS Wireframe Builder</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Top Toolbar -->
        <header class="toolbar">
            <div class="toolbar-left">
                <h1>LMS Wireframe Builder</h1>
            </div>
            <div class="toolbar-right">
                <button class="btn btn--outline btn--sm" id="starter-guide-btn">❓ Starter Guide</button>
                <button class="btn btn--secondary btn--sm" id="save-btn">💾 Save</button>
                <button class="btn btn--outline btn--sm" id="clear-btn">🗑️ Clear</button>
                <button class="btn btn--primary btn--sm" id="export-btn">📄 Export PDF</button>
            </div>
        </header>

        <div class="main-content">
            <!-- Left Sidebar - Component Library -->
            <aside class="sidebar">
                <!-- Custom Elements Section -->
                <div class="sidebar-section">
                    <h3>Custom Elements</h3>
                    <div class="custom-controls">
                        <button class="btn btn--secondary btn--sm btn--full-width" id="add-section-btn">+ Add Section</button>
                        <button class="btn btn--outline btn--sm btn--full-width" id="add-resource-btn">+ Add Resource</button>
                        <button class="btn btn--outline btn--sm btn--full-width" id="add-activity-btn">+ Add Activity</button>
                    </div>
                </div>

                <!-- Section Templates -->
                <div class="sidebar-section">
                    <h3>Section Templates</h3>
                    <div class="component-list" id="section-templates-list">
                        <!-- Section templates will be populated here -->
                    </div>
                </div>
                
                <!-- Resources Section -->
                <div class="sidebar-section">
                    <h3>Resources</h3>
                    <div class="component-list" id="resources-list">
                        <!-- Resources will be populated here -->
                    </div>
                </div>

                <!-- Activities Section -->
                <div class="sidebar-section">
                    <h3>Activities</h3>
                    <div class="component-list" id="activities-list">
                        <!-- Activities will be populated here -->
                    </div>
                </div>

                <!-- Design Elements Section -->
                <div class="sidebar-section">
                    <h3>Design Elements</h3>
                    <div class="component-list" id="design-elements-list">
                        <!-- Design elements will be populated here -->
                    </div>
                </div>
            </aside>

            <!-- Main Canvas -->
            <main class="canvas-container">
                <div class="canvas" id="canvas">
                    <div class="canvas-placeholder" id="canvas-placeholder">
                        <div class="placeholder-content">
                            <div class="placeholder-icon">🎨</div>
                            <h3>Start Building Your Course Wireframe</h3>
                            <p>Drag sections from the sidebar to begin. Add resources, activities, and design elements to sections.</p>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Properties Panel -->
            <aside class="properties-panel" id="properties-panel">
                <h3>Properties</h3>
                <div class="properties-content" id="properties-content">
                    <p class="properties-empty">Select an item to edit its properties.</p>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Designed and developed by Robert Sydenham for Murdoch University using Perplexity Labs (2025).</p>
        </footer>
    </div>

    <!-- Context Menu -->
    <div class="context-menu hidden" id="context-menu">
        <div class="context-menu-item" id="edit-item">✏️ Edit</div>
        <div class="context-menu-item" id="delete-item">🗑️ Delete</div>
    </div>

    <!-- Modal for editing items -->
    <div class="modal hidden" id="edit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Item</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="item-name">Item Name</label>
                    <input type="text" class="form-control" id="item-name" placeholder="Enter item name">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancel-edit">Cancel</button>
                <button class="btn btn--primary" id="save-edit">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Move Menu Modal -->
    <div class="modal hidden" id="move-modal">
        <div class="modal-content move-modal-content">
            <div class="modal-header">
                <h3>Move Content</h3>
                <button class="modal-close" id="move-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="move-instructions">Select where to move "<span id="move-item-name"></span>":</p>
                <div class="move-list" id="move-list">
                    <!-- Move options will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancel-move">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal hidden" id="delete-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Deletion</h3>
                <button class="modal-close" id="delete-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete "<span id="delete-item-name"></span>"?</p>
                <p><strong>This action cannot be undone.</strong></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancel-delete">Cancel</button>
                <button class="btn btn--primary" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Starter Guide Modal -->
    <div class="modal hidden" id="starter-guide-modal">
        <div class="modal-content starter-guide-content">
            <div class="modal-header">
                <h3>Starter Guide</h3>
                <button class="modal-close" id="starter-guide-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="guide-section">
                    <h4>📋 Getting Started</h4>
                    <p>Welcome to the LMS Wireframe Builder! This tool helps you create structured course wireframes for Learning Management Systems.</p>
                </div>
                
                <div class="guide-section">
                    <h4>🎨 Building Your Wireframe</h4>
                    <ul>
                        <li><strong>Drag & Drop:</strong> Drag items from the sidebar to the canvas to build your course structure</li>
                        <li><strong>Section Templates:</strong> Use pre-built sections like Home, Assessments, Topics, and What is on this week</li>
                        <li><strong>Custom Elements:</strong> Create your own sections, resources, and activities</li>
                        <li><strong>Hierarchy:</strong> Sections can contain resources, activities, and design elements</li>
                    </ul>
                </div>
                
                <div class="guide-section">
                    <h4>⚙️ Managing Content</h4>
                    <ul>
                        <li><strong>Edit:</strong> Click the ✏️ button or select items to edit their properties in the right panel</li>
                        <li><strong>Move:</strong> Use the ↕️ button to reposition items precisely within the hierarchy</li>
                        <li><strong>Delete:</strong> Click the 🗑️ button to remove unwanted items with confirmation</li>
                        <li><strong>Properties:</strong> Edit names, descriptions, and notes in the properties panel</li>
                    </ul>
                </div>
                
                <div class="guide-section">
                    <h4>💾 Saving & Exporting</h4>
                    <ul>
                        <li><strong>Save:</strong> Your work is automatically saved as you build</li>
                        <li><strong>Export PDF:</strong> Generate a formatted document with proper hierarchy and indentation</li>
                        <li><strong>Clear:</strong> Start fresh by clearing the entire canvas</li>
                    </ul>
                </div>
                
                <div class="guide-section">
                    <h4>🎯 Tips for Success</h4>
                    <ul>
                        <li>Start with section templates to get pre-loaded content</li>
                        <li>Use design elements (Pre-Class, In-Class, Post-Class) to organize learning activities</li>
                        <li>Add detailed descriptions and learning times in the properties panel</li>
                        <li>Export regularly to review your course structure</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" id="close-starter-guide">Got it!</button>
            </div>
        </div>
    </div>

    <!-- Drop Zone Indicator -->
    <div class="drop-zone-indicator hidden" id="drop-zone-indicator">
        <div class="drop-zone-content">
            <span class="drop-zone-icon">📍</span>
            <span class="drop-zone-text">Drop here</span>
        </div>
    </div>

    <!-- Drag Preview -->
    <div class="drag-preview hidden" id="drag-preview"></div>

    <script src="app.js"></script>
</body>
</html>