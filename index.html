<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LMS Wireframe Designer</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Top Toolbar -->
        <header class="toolbar">
            <div class="toolbar-left">
                <h1>LMS Wireframe Designer</h1>
            </div>
            <div class="toolbar-right">
                <button class="btn btn--outline btn--sm" id="help-btn">‚ùì Starter Guide</button>
                <button class="btn btn--secondary btn--sm" id="save-btn">üíæ Save</button>
                <button class="btn btn--outline btn--sm" id="clear-btn">üóëÔ∏è Clear</button>
                <button class="btn btn--secondary btn--sm" id="export-png-btn">üì∑ Export PNG</button>
                <button class="btn btn--primary btn--sm" id="export-btn">üìÑ Export PDF</button>
            </div>
        </header>

        <div class="main-content">
            <!-- Left Sidebar - Component Library -->
            <aside class="sidebar">
                <!-- Custom Elements Section -->
                <div class="sidebar-section">
                    <h3>Custom Elements</h3>
                    <div class="custom-controls">
                        <button class="btn btn--secondary btn--sm btn--full-width" id="add-section-btn">+ Add Section</button>
                        <button class="btn btn--outline btn--sm btn--full-width" id="add-resource-btn">+ Add Resource</button>
                        <button class="btn btn--outline btn--sm btn--full-width" id="add-activity-btn">+ Add Activity</button>
                    </div>
                </div>

                <!-- Section Templates -->
                <div class="sidebar-section">
                    <h3>Section Templates</h3>
                    <div class="component-list" id="section-templates-list">
                        <!-- Section templates will be populated here -->
                    </div>
                </div>
                
                <!-- Resources Section -->
                <div class="sidebar-section">
                    <h3>Resources</h3>
                    <div class="component-list" id="resources-list">
                        <!-- Resources will be populated here -->
                    </div>
                </div>

                <!-- Activities Section -->
                <div class="sidebar-section">
                    <h3>Activities</h3>
                    <div class="component-list" id="activities-list">
                        <!-- Activities will be populated here -->
                    </div>
                </div>

                <!-- Design Elements Section -->
                <div class="sidebar-section">
                    <h3>Design Elements</h3>
                    <div class="component-list" id="design-elements-list">
                        <!-- Design elements will be populated here -->
                    </div>
                </div>
            </aside>

            <!-- Main Canvas -->
            <main class="canvas-container">
                <div class="canvas" id="canvas">
                    <div class="canvas-placeholder" id="canvas-placeholder">
                        <div class="placeholder-content">
                            <div class="placeholder-icon">üé®</div>
                            <h3>Start Building Your Course Wireframe</h3>
                            <p>Drag sections from the sidebar to begin. Add resources, activities, and design elements to sections.</p>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Properties Panel -->
            <aside class="properties-panel" id="properties-panel">
                <h3>Properties</h3>
                <div class="properties-content" id="properties-content">
                    <p class="properties-empty">Select an item to edit its properties.</p>
                </div>
            </aside>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal hidden" id="help-modal">
        <div class="modal-content modal-content--large">
            <div class="modal-header">
                <h3>LMS Wireframe Designer - Starter Guide</h3>
                <button class="modal-close" id="help-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h4>üöÄ Getting Started</h4>
                    <p>Welcome to the LMS Wireframe Designer! This tool helps you create structured course layouts for Learning Management Systems.</p>
                </div>
                
                <div class="help-section">
                    <h4>üìê Content Hierarchy</h4>
                    <p><strong>Sections</strong> ‚Üí <strong>Resources/Activities/Design Elements</strong></p>
                    <ul>
                        <li><strong>Sections:</strong> Top-level course containers (e.g., Home, Assessments, Topics)</li>
                        <li><strong>Resources:</strong> Learning materials (readings, videos, links, etc.)</li>
                        <li><strong>Activities:</strong> Interactive elements (quizzes, forums, assignments, etc.)</li>
                        <li><strong>Design Elements:</strong> Learning phases (Pre-Class, In-Class, Post-Class, Practical)</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>üéØ Section Templates</h4>
                    <ul>
                        <li><strong>Home:</strong> Comes with Unit Outline and Announcements resources</li>
                        <li><strong>Assessments:</strong> Comes with Assignment and Peer Assessment activities</li>
                        <li><strong>Topic:</strong> Empty section for custom content</li>
                        <li><strong>What is on this week:</strong> Read-only overview section</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>üñ±Ô∏è How to Use</h4>
                    <ol>
                        <li><strong>Drag & Drop:</strong> Drag items from the sidebar to the canvas</li>
                        <li><strong>Reorder Content:</strong> Drag existing items to reposition them within or between sections</li>
                        <li><strong>Properties:</strong> Click any item to edit its properties in the right panel</li>
                        <li><strong>Save Changes:</strong> Click "Save Changes" in properties to update the canvas</li>
                        <li><strong>Export:</strong> Generate a PDF or PNG with your complete wireframe structure</li>
                    </ol>
                </div>

                <div class="help-section">
                    <h4>üí° Best Practices</h4>
                    <ul>
                        <li>Start with section templates for common course structures</li>
                        <li>Use design elements to indicate learning phases</li>
                        <li>Group related resources and activities in sections</li>
                        <li>Add descriptive summaries for students and developer notes</li>
                        <li>Export regularly to save your progress</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>‚öôÔ∏è Application Features</h4>
                    <ul>
                        <li><strong>Visual Selection:</strong> Selected items show a blue glow</li>
                        <li><strong>Drag Validation:</strong> Invalid drops are highlighted in red</li>
                        <li><strong>Auto-save:</strong> Your work is automatically saved to browser storage</li>
                        <li><strong>Hierarchical Export:</strong> PDF maintains proper indentation and structure</li>
                        <li><strong>PNG Export:</strong> High-quality image export for presentations</li>
                        <li><strong>Responsive Design:</strong> Works on desktop and tablet devices</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" id="help-close-btn">Got it!</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal hidden" id="confirm-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Action</h3>
                <button class="modal-close" id="confirm-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirm-message">Are you sure you want to proceed?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="confirm-cancel">Cancel</button>
                <button class="btn btn--primary" id="confirm-proceed">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu hidden" id="context-menu">
        <div class="context-menu-item" id="delete-item">üóëÔ∏è Delete</div>
    </div>

    <!-- Drop Zone Indicator -->
    <div class="drop-zone-indicator hidden" id="drop-zone-indicator">
        <div class="drop-zone-content">
            <span class="drop-zone-icon">üìç</span>
            <span class="drop-zone-text">Drop here</span>
        </div>
    </div>

    <!-- Drag Preview -->
    <div class="drag-preview hidden" id="drag-preview"></div>

    <!-- Footer -->
    <footer class="footer">
        <p>Designed and developed by Robert Sydenham for Murdoch University using Perplexity Labs (2025).</p>
    </footer>

    <script src="app.js"></script>
</body>
</html>